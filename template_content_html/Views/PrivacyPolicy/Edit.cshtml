@model HomeHelp.Models.CategoryModel
@{
    ViewBag.Title = "Category";
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}

<script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('.blah')
                    .attr('src', e.target.result)

            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
<style type="text/css">
    .fil {
        border-style: solid;
        border-width: 0 0 1px;
    }
</style>
@{
    Html.RenderAction("DisplayMessage", "Base", new { ShowMessage = TempData["ShowMessage"], MessageBody = TempData["MessageBody"] });
}

<style type="text/css">
    .listbox {
        width: 100%;
    }

    .btn-file {
        position: relative;
        overflow: hidden;
        background: #f59c1a !important;
        border-color: #f59c1a !important;
        width: 100% !important;
    }

        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            cursor: inherit;
            display: block;
        }

    .font {
        font-weight: 700 !important;
    }
</style>
<script type="text/javascript">
    //Initialize tooltip with jQuery
    $(document).ready(function () {


        $("#btncancel").click(function (event) {
            debugger;
            event.preventDefault();
            var url = '@Url.Action("Index", "Category")';
            window.location.href = url;
        });

    });
</script>
@using (Html.BeginForm("Edit", "Category", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.HiddenFor(model => model.CategoryId)
    @*@Html.HiddenFor(model => model.ParentId);*@
    @Html.HiddenFor(model => model.CurrentPageNo)
    <h2 class="page-header">Edit Category</h2>

			<!-- begin profile-container -->
    <div class="profile-container">
        <!-- begin profile-section -->
		<div class="col-md-4 col-sm-4">
        <div class="profile-section">
            <!-- begin profile-left -->
            <div class="profile-left">
                <!-- begin profile-image -->
                <div class="profile-image">
                    @if ((Model.PhotoPath != "") && (Model.PhotoPath != null))
{
    <img class=" blah logoImg" src="@Url.Content(Model.PhotoPath)" alt="" />

}
else
{
                        <img class="blah logoImg" src="~/assets/img/download.jpg" />
                    }
                    @*<img src="~/assets/img/profile-cover.jpg" />*@
                    <i class="fa fa-user hide"></i>
                </div>
                <!-- end profile-image -->
                <div class="m-b-10">

                    <span class="btn btn-default btn-file">
                        Change Picture <input type="file" name="file" onchange="readURL(this);"  id="file" accept="image/*">
                    </span>

                </div>

            </div>
            <!-- end profile-left -->
            <!-- begin profile-right -->
            <div class="profile-right">
                <!-- begin profile-info -->
                <div class="profile-info">
                    <!-- begin table -->
                    <div class="">
                       <div class="m-t-10">
                           <div class="field font">Name *</div>
                                    <div class="category_form">@Html.TextBoxFor(model => model.Name, new { @class = "form-control" })</div>
                                    <div>@Html.ValidationMessageFor(model => model.Name)</div>
                               </div>

                                <div class="m-t-10">
                                    <div class="field font">Description *</div>

                                    <div class="category_form">@Html.TextAreaFor(model => model.Description, new { @class = "form-control", @rows = 10 })</div>
                                    <div>@Html.ValidationMessageFor(model => model.Description)</div>
                                </div>
                                <div class="m-t-10">
                                    <div class="field m-t-10 font">Created On</div>
                                    <div><a href="#">@Html.DisplayFor(model => model.CreatedOn)</a></div>
                                </div>
                                <div>
                                    <div class="field"></div>
                                    <div class="m-t-10">
                                        <button type="submit" class="btn btn-success m-r-5 m-b-5">Update</button>
                                        <input type="button" value="Cancel" class="btn btn-danger m-r-5 m-b-5" onclick="location.href='@Url.Action("Index", "Category")'" />
                                    </div>
                                </div>

                    </div>
                    <!-- end table -->
                </div>
                <!-- end profile-info -->
            </div>
            <!-- end profile-right -->
        </div>
		  </div>
        <!-- end profile-section -->

    </div>
			<!-- end profile-container -->

    <div class="col-md-6 ui-sortable" hidden="hidden">
        <div class="panel panel-inverse" data-sortable-id="form-stuff-1">
            <div class="panel-heading">

                <h4 class="panel-title">Edit category</h4>
            </div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="row">
                        <label class="col-md-3 control-label">Name</label>
                        <div class="col-md-7">
                            @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })

                        </div>
                        <div class="col-md-2">
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-3 control-label">Description</label>
                        <div class="col-md-7">
                            @Html.TextAreaFor(model => model.Description, new { @class = "form-control" })
                            @*<textarea class="form-control" placeholder="Textarea" rows="5"></textarea>*@
                        </div>
                        <div class="col-md-2">
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-3 control-label">Images</label>
                        <div class="col-md-7">
                            @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
                        </div>
                        <div class="col-md-2">
                        </div>
                    </div>



                    <div class="form-group">

                        <div class="col-md-9">
                            <button type="submit" class="btn btn-success m-r-5 m-b-5">Update</button>
                            <input type="button" value="Cancel" class="btn btn-danger m-r-5 m-b-5" onclick="location.href='@Url.Action("Index", "Category")'" />
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

}
@*<p class="operation">
    <i class="fa fa-mail-reply create_icon"></i>
    @Html.ActionLink(" Back to List", "Index")
</p>*@


<ul class="pager">
    <li class="previous"><a href="@Url.Action("Index") ">← Back to List</a></li>
</ul>